## 六到十週心得與解題心得

### 第六週：
這週課程主要內容為 HTML 與 CSS，搞懂 box model 就算弄懂這週最重要的概念了。這週實作的過程蠻喜歡的，從無到有把一個網頁切出來的成就感挺不錯的。目前有了這些基礎後，要再學進階的 html 跟 css 也變得容易許多。

作業一跟著老師切版確實有讓切版新手容易進入狀況，一開始比較讓人頭疼的是 RWD 的問題，很容易切好一個版，不過切換到手機板就出現很多問題。

網路上也看到許多 CSS 的教學介紹，光是用虛元素和 transition 就可以玩出各式各樣的花樣，無奈自己沒什麼設計美感，光了解語法也寫不出漂亮的網頁 XD


### 第七週：網頁上的 JavaScript 與事件處理
這週我是先從作業三開始寫，先寫作業三時還不太會用 DOM 的事件處理，幾乎都用 CSS 完成大部份的功能，Javascript 只用來處理新增與刪除事件。等到回頭做完作業一和二，才發現作業三可以透過 DOM 事件處理來控制 CSS，就不需要把 CSS 寫得這麼複雜。

這週的重點是事件傳遞機制的捕獲、冒泡跟 event delegation。

雖然單純在寫作業時不太會感受到捕獲、冒泡之間區別的重要性，不過這個概念其實不容易理解，也還好課程中有提到，要是課程沒提之後自己碰到問題可能要花好幾倍時間解 bug。

寫作業時沒有用到 event delegation，在寫簡答題時才注意到這個重要的概念，雖然這週作業沒用到，不過下週作業就好好地用好用滿了。

### 第八週：API 串接與 Ajax
這週課程內容是 API 串接與 Ajax，透過瀏覽器串接 API 其實不會比在 Node.js 上串接 API 難，對於 API 的概念也已經理解，所以蠻快就可以進入狀況的。

大概因為這禮拜的課程有看得比較懂，這週的作業寫的蠻順的，基本上發送非同步請求的位置不要出錯就沒什麼大問題了。雖然講的很容易，但實際做作業的時間花費蠻多的，從切版到功能一步一步做，慢慢地測試功能，等到做完好幾天就過去了。

這週挑戰題功能只完成一半，一但數字超過 100 時就無法載入更多實況，這個問題是出在程式邏輯設計的不好，要修改得整個載入更多實況的程式了。

看完影片的時候覺得自己已經大概懂了 Ajax 不過到了簡答題要回答同步與非同步時，卻不知道該怎麼寫才能精確表示意思。例如說同步是逐行往下執行，執行完畢才執行下一行。但非同步請也是執行完才執行下一行，只是不需要等到該行的結果回來。用這樣表示好像可以表達同步與非同步之間的區別，但又不太精確。因此又重新整理了筆記跟資料才寫完簡答題。

### 第九週：PHP 與 SQL 基礎
碰到全新的語言剛開始蠻困擾的，好幾次寫錯都是忘了在句尾加 `;`。不過寫完作業基本上就沒什麼問題了，作業中的程式碼其實也不複雜，並不會很難理解。不過讓人煩惱的是 PHP 跟 HTML 混用的可讀性好低，這方面還在尋找解答。

資料庫的部分反而是略懂但又很不懂的一部份。雖然可以把它當作是 excel 表之類的來理解，但其中的設置似乎又可以把它做到很複雜。像是資料型態的長度，在設置資料庫的時候會不知道設為多少是比較適合一般的情況，又或著各欄索引的設置該怎麼設比較有效又不會設置到不必要的選項等等。

至於 SQL，因為之前有學過 [SPARQL](https://www.w3.org/TR/rdf-sparql-query/)，主要的查詢語法非常相似，所以在理解上沒有太大問題。

### 第十週：複習與綜合能力測驗
#### 綜合能力測驗
第一個發現是 dev tools 上的 console 功能所設置的變數與網頁載入的 js 檔案是可以互通的，之前還以為 console 只能獨立測試 (°ー°〃)
再來是加密文字，原來可以直接 google 這段文字就能找到答案。原先我有亂測試幾種解密方法，例如 md5 或 Base64 等等。最後是直接用暴力解，因為已經有看到提示是 1 ~ 100 的數字，所以直接寫一個迴圈讓 function 跑 100 遍，只印出成功的狀況跟參數為多少，才好不容易地成功闖關。

#### r3:0 異世界網站挑戰
1 ~ 4 關都沒什麼問題，覺得虛元素的做法蠻有趣的，而且因為虛元素不會被直接選取到，所以在反白的時候畫面會露出馬腳。

第 5 關雖然很快就猜出是自動跳轉，而且在 header 也可以看到原本確實是從輸入的網址跳轉過去的，但是找如何阻止自動跳轉找好久 XD 後來看到別人分享說按 esc 就可以阻止跳轉，不過時機點其實不好抓，試了好幾次才成功。

第 6 關雖然不難，不過意外第找到了有趣的東西 **aaencode**，用顏文字寫 js 也太酷了！

7 ~ 8 關也算是容易，根據關鍵字很快就找到 token。

第 9 關跟前面相比要想的就多很多了。以下是函式：

```php=
<?php
  function isTokenValid($token) {
    if (strlen($token) !== 8) return false;
    for($i = 1; $i <= 7; $i+=2) {
      if ((ord($token[$i]) * ord($token[$i - 1])) % $i !== 0) {
        return false;
      }
    }
    return true;
  }
?>
```
首先在 `if (strlen($token) !== 8) return false;` 這行程式碼中可以確認 token 的長度為 8。
函式中 `ord()` 的功用是返回字串的 ASCII 碼值，因此查表後，一個字元 ASCII 對應的值為 32 ~ 126。 
再來看到 `(ord($token[$i]) * ord($token[$i - 1])) % $i !== 0` 這一行條件判斷，可以整理出以下資訊：token 的每兩個字元的 ASCII 碼值相乘後除以 `$i` 餘數需要等於 0 才會回傳 true，`$i` 為 1、3、5、7。


| 第幾字元 |        符合的ASCII 碼值        | 對應回來的字串 |
|:--------:|:------------------------------:|:--------------:|
|   0、1   |          任何值都可以 48、48          |       00       |
|   2、3   |   其中一個為 3 的倍數 48、52   |       04       |
|   4、5   | 其中一個為 5 的倍數     55、50 |       27       |
|   6、7   | 其中一個為 7 的倍數     49、56 |       18       |

所以這邊找到一組 token 為 00042718，不過其實每兩個數字只要有一個為 `$i` 的倍數就能通關，例如 0a0a2a1a 也是可以通關的 token。
